<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>

<StackPane prefHeight="820.0" prefWidth="1100.0" styleClass="app-root" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controlles.DashBoardController">
    <Pane styleClass="app-background" />
    <HBox alignment="TOP_LEFT" spacing="18.0" styleClass="app-frame">
        <VBox prefWidth="240.0" styleClass="side-nav">
            <!-- Logo Section -->
            <VBox alignment="CENTER" spacing="8.0" styleClass="logo-section">
                <ImageView fitHeight="72.0" fitWidth="180.0" preserveRatio="true">
                    <image>
                        <Image url="@image/logo.png" />
                    </image>
                </ImageView>
                <VBox alignment="CENTER" spacing="2.0">
                    <Label fx:id="brandTitle" text="Cultures" styleClass="brand-title" style="-fx-text-fill: #ffffff;" />
                    <Label text="Management Suite" styleClass="brand-subtitle" style="-fx-text-fill: rgba(255, 255, 255, 0.7);" />
                </VBox>
                <padding>
                    <Insets top="16.0" bottom="16.0" />
                </padding>
            </VBox>

            <Separator styleClass="nav-separator">
                <VBox.margin>
                    <Insets bottom="12.0" />
                </VBox.margin>
            </Separator>

            <!-- Navigation Section -->
            <VBox spacing="6.0" styleClass="nav-section">
                <Label text="NAVIGATION" styleClass="nav-section-title" style="-fx-text-fill: rgba(255, 255, 255, 0.5);">
                    <padding>
                        <Insets left="16.0" bottom="6.0" />
                    </padding>
                </Label>

                <Button fx:id="btnNavDashboard" onAction="#showDashboard"
                        prefHeight="44.0" maxWidth="Infinity" alignment="CENTER_LEFT">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="12.0">
                            <SVGPath content="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"
                                     styleClass="nav-icon"
                                     style="-fx-fill: #ffffff;" />
                            <Label text="Tableau de bord" styleClass="nav-label" style="-fx-text-fill: #ffffff;" />
                        </HBox>
                    </graphic>
                    <styleClass>
                        <String fx:value="nav-button" />
                        <String fx:value="nav-button-active" />
                    </styleClass>
                </Button>

                <Button fx:id="btnNavCultures" onAction="#showCultures"
                        prefHeight="44.0" maxWidth="Infinity" alignment="CENTER_LEFT">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="12.0">
                            <SVGPath content="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1.41 16.09L6 13.5 7.41 12.09l3.18 3.18 7.59-7.59L19.59 9l-9 9.09z"
                                     styleClass="nav-icon"
                                     style="-fx-fill: rgba(255, 255, 255, 0.7);" />
                            <Label text="Cultures" styleClass="nav-label" style="-fx-text-fill: rgba(255, 255, 255, 0.7);" />
                        </HBox>
                    </graphic>
                    <styleClass>
                        <String fx:value="nav-button" />
                    </styleClass>
                </Button>

                <Button fx:id="btnNavParcelles" onAction="#showParcelles"
                        prefHeight="44.0" maxWidth="Infinity" alignment="CENTER_LEFT">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="12.0">
                            <SVGPath content="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5zm0 10c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"
                                     styleClass="nav-icon"
                                     style="-fx-fill: rgba(255, 255, 255, 0.7);" />
                            <Label text="Parcelles" styleClass="nav-label" style="-fx-text-fill: rgba(255, 255, 255, 0.7);" />
                        </HBox>
                    </graphic>
                    <styleClass>
                        <String fx:value="nav-button" />
                    </styleClass>
                </Button>

                <Button fx:id="btnNavAnalytics" onAction="#showAnalytics"
                        prefHeight="44.0" maxWidth="Infinity" alignment="CENTER_LEFT">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="12.0">
                            <SVGPath content="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"
                                     styleClass="nav-icon"
                                     style="-fx-fill: rgba(255, 255, 255, 0.7);" />
                            <Label text="Analytique" styleClass="nav-label" style="-fx-text-fill: rgba(255, 255, 255, 0.7);" />
                        </HBox>
                    </graphic>
                    <styleClass>
                        <String fx:value="nav-button" />
                    </styleClass>
                </Button>
                <VBox.margin>
                    <Insets top="4.0" />
                </VBox.margin>
            </VBox>

            <Region VBox.vgrow="ALWAYS" />

            <!-- Footer Info -->
            <VBox styleClass="nav-footer" spacing="6.0">
                <Separator styleClass="nav-separator">
                    <VBox.margin>
                        <Insets bottom="8.0" />
                    </VBox.margin>
                </Separator>
                <Label text="Version 1.0.0" styleClass="nav-footer-text" style="-fx-text-fill: rgba(255, 255, 255, 0.5);" />
                <Label text="© 2024 Cultures MS" styleClass="nav-footer-text" style="-fx-text-fill: rgba(255, 255, 255, 0.5);" />
                <padding>
                    <Insets top="12.0" bottom="16.0" left="16.0" right="16.0" />
                </padding>
            </VBox>
        </VBox>
        <BorderPane prefHeight="760.0" prefWidth="780.0" styleClass="app-main">
            <top>
        <HBox alignment="CENTER_LEFT" styleClass="topbar" spacing="16.0">
            <VBox spacing="4.0">
                <Label text="Dashboard" styleClass="page-title" />
                <Label text="Suivi et pilotage des opérations agricoles" styleClass="page-subtitle" />
            </VBox>
            <Pane HBox.hgrow="ALWAYS" />

            <!-- Search Field with Icon -->
            <HBox alignment="CENTER_LEFT" styleClass="search-container" spacing="8.0">
                <SVGPath content="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                         styleClass="search-icon"
                         style="-fx-fill: #666666;" />
                <TextField fx:id="searchField" promptText="Rechercher une culture..."
                           styleClass="search-field" prefWidth="260.0" />
            </HBox>

            <HBox alignment="CENTER" spacing="10.0" styleClass="topbar-actions">
                <StackPane styleClass="icon-pill">
                    <Button styleClass="icon-button">
                        <graphic>
                            <SVGPath content="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6V11c0-3.07-1.63-5.64-4.5-6.32V4a1.5 1.5 0 0 0-3 0v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"
                                     styleClass="icon-glyph" />
                        </graphic>
                    </Button>
                    <Label text="1" styleClass="icon-badge" StackPane.alignment="TOP_RIGHT" />
                </StackPane>
                <StackPane styleClass="icon-pill">
                    <Button styleClass="icon-button">
                        <graphic>
                            <SVGPath content="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 14.5h-2v-5h2v5zm0-7h-2V7h2v2.5z"
                                     styleClass="icon-glyph" />
                        </graphic>
                    </Button>
                </StackPane>
                <StackPane styleClass="avatar-pill">
                    <Label text="AM" styleClass="avatar-text" />
                </StackPane>
            </HBox>
        </HBox>
    </top>

    <center>
        <VBox styleClass="content-area" spacing="20.0">
            <!-- Stats Cards -->
            <HBox spacing="16.0" styleClass="stats-container">
                <VBox prefWidth="220.0" styleClass="stat-card" spacing="12.0">
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <SVGPath content="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"
                                 styleClass="stat-icon stat-icon-primary"
                                 style="-fx-fill: #000000;" />
                        <Label text="CULTURES ACTIVES" styleClass="stat-title" />
                    </HBox>
                    <Label text="24" styleClass="stat-value" />
                    <HBox alignment="CENTER_LEFT" spacing="6.0">
                        <SVGPath content="M7 14l5-5 5 5z" styleClass="stat-trend-icon stat-trend-up"
                                 style="-fx-fill: #28a745;" />
                        <Label text="+8% ce mois" styleClass="stat-note stat-note-positive" />
                    </HBox>
                    <padding>
                        <Insets top="18.0" bottom="18.0" left="18.0" right="18.0" />
                    </padding>
                </VBox>

                <VBox prefWidth="220.0" styleClass="stat-card" spacing="12.0">
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <SVGPath content="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z"
                                 styleClass="stat-icon stat-icon-success"
                                 style="-fx-fill: #000000;" />
                        <Label text="RENDEMENT MOYEN" styleClass="stat-title" />
                    </HBox>
                    <Label text="540 kg" styleClass="stat-value" />
                    <HBox alignment="CENTER_LEFT" spacing="6.0">
                        <SVGPath content="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                                 styleClass="stat-trend-icon stat-trend-stable"
                                 style="-fx-fill: #17a2b8;" />
                        <Label text="Stable sur 30 jours" styleClass="stat-note stat-note-neutral" />
                    </HBox>
                    <padding>
                        <Insets top="18.0" bottom="18.0" left="18.0" right="18.0" />
                    </padding>
                </VBox>

                <VBox prefWidth="220.0" styleClass="stat-card" spacing="12.0">
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <SVGPath content="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"
                                 styleClass="stat-icon stat-icon-warning"
                                 style="-fx-fill: #000000;" />
                        <Label text="PARCELLES SUPERVISÉES" styleClass="stat-title" />
                    </HBox>
                    <Label text="12" styleClass="stat-value" />
                    <HBox alignment="CENTER_LEFT" spacing="6.0">
                        <SVGPath content="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"
                                 styleClass="stat-trend-icon stat-trend-alert"
                                 style="-fx-fill: #000000;" />
                        <Label text="2 zones prioritaires" styleClass="stat-note stat-note-warning" />
                    </HBox>
                    <padding>
                        <Insets top="18.0" bottom="18.0" left="18.0" right="18.0" />
                    </padding>
                </VBox>
            </HBox>

            <!-- Tabs Section -->
            <TabPane fx:id="mainTabs" prefHeight="600.0" styleClass="main-tabs">
                <tabs>
                    <Tab fx:id="tabCultures" text="Cultures">
                        <graphic>
                            <HBox alignment="CENTER" spacing="8.0">
                                <SVGPath content="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"
                                         styleClass="tab-icon"
                                         style="-fx-fill: #000000;" />
                                <Label text="Cultures" styleClass="tab-label" />
                            </HBox>
                        </graphic>
                        <content>
                            <VBox spacing="16.0" styleClass="tab-content">
                                <HBox alignment="CENTER_LEFT" spacing="12.0">
                                    <Label text="Gestion des cultures" styleClass="section-title" />
                                    <Region HBox.hgrow="ALWAYS" />
                                    <Button onAction="#ajouterCulture"
                                            prefHeight="38.0" styleClass="primary-button">
                                        <graphic>
                                            <HBox alignment="CENTER" spacing="6.0">
                                                <SVGPath content="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
                                                         styleClass="button-icon"
                                                         style="-fx-fill: #ffffff;" />
                                                <Label text="Ajouter une culture" styleClass="button-label" style="-fx-text-fill: #ffffff;" />
                                            </HBox>
                                        </graphic>
                                    </Button>
                                </HBox>

                                <TableView fx:id="tableCultures" prefHeight="520.0" styleClass="data-table">
                                    <columns>
                                        <TableColumn fx:id="colId" prefWidth="60.0" text="ID" styleClass="table-col-id" />
                                        <TableColumn fx:id="colNom" prefWidth="180.0" text="Nom de la culture" styleClass="table-col-text" />
                                        <TableColumn fx:id="colEtat" prefWidth="150.0" text="État de croissance" styleClass="table-col-status" />
                                        <TableColumn fx:id="colRendement" prefWidth="140.0" text="Rendement (kg)" styleClass="table-col-number" />
                                        <TableColumn fx:id="colActions" prefWidth="220.0" text="Actions" styleClass="table-col-actions" />
                                    </columns>
                                </TableView>
                                <padding>
                                    <Insets top="12.0" bottom="12.0" left="12.0" right="12.0" />
                                </padding>
                            </VBox>
                        </content>
                    </Tab>

                    <Tab fx:id="tabParcelles" text="Parcelles">
                        <graphic>
                            <HBox alignment="CENTER" spacing="8.0">
                                <SVGPath content="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5z"
                                         styleClass="tab-icon"
                                         style="-fx-fill: #000000;" />
                                <Label text="Parcelles" styleClass="tab-label" />
                            </HBox>
                        </graphic>
                        <content>
                            <VBox spacing="16.0" styleClass="tab-content">
                                <HBox alignment="CENTER_LEFT" spacing="12.0">
                                    <Label text="Gestion des parcelles" styleClass="section-title" />
                                    <Region HBox.hgrow="ALWAYS" />
                                    <Button onAction="#ajouterParcelle"
                                            prefHeight="38.0" styleClass="primary-button">
                                        <graphic>
                                            <HBox alignment="CENTER" spacing="6.0">
                                                <SVGPath content="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
                                                         styleClass="button-icon"
                                                         style="-fx-fill: #ffffff;" />
                                                <Label text="Ajouter une parcelle" styleClass="button-label" style="-fx-text-fill: #ffffff;" />
                                            </HBox>
                                        </graphic>
                                    </Button>
                                </HBox>

                                <TableView fx:id="tableParcelles" prefHeight="520.0" styleClass="data-table">
                                    <columns>
                                        <TableColumn fx:id="colPId" prefWidth="60.0" text="ID" styleClass="table-col-id" />
                                        <TableColumn fx:id="colPNom" prefWidth="200.0" text="Nom de la parcelle" styleClass="table-col-text" />
                                        <TableColumn fx:id="colPSurface" prefWidth="140.0" text="Surface (ha)" styleClass="table-col-number" />
                                        <TableColumn fx:id="colPType" prefWidth="160.0" text="Type de sol" styleClass="table-col-text" />
                                        <TableColumn fx:id="colPActions" prefWidth="220.0" text="Actions" styleClass="table-col-actions" />
                                    </columns>
                                </TableView>
                                <padding>
                                    <Insets top="12.0" bottom="12.0" left="12.0" right="12.0" />
                                </padding>
                            </VBox>
                        </content>
                    </Tab>
                </tabs>
                <VBox.margin>
                    <Insets top="4.0" />
                </VBox.margin>
            </TabPane>
        </VBox>
    </center>
        </BorderPane>
    </HBox>
</StackPane>

