<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>

<StackPane fx:id="rootPane" prefHeight="820.0" prefWidth="1100.0" styleClass="app-root" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.DashboardController">
    <Pane styleClass="app-background" />
    <HBox alignment="TOP_LEFT" spacing="18.0" styleClass="app-frame">
        <VBox prefWidth="240.0" styleClass="side-nav">
            <!-- Logo Section -->
            <VBox alignment="CENTER" spacing="8.0" styleClass="logo-section">
                <VBox alignment="CENTER" spacing="2.0">
                    <Label fx:id="brandTitle" text="AgriGo" styleClass="brand-title" style="-fx-text-fill: #ffffff;" />
                    <Label text="Gestion des récoltes" styleClass="brand-subtitle" style="-fx-text-fill: rgba(255, 255, 255, 0.7);" />
                </VBox>
                <padding>
                    <Insets top="16.0" bottom="16.0" />
                </padding>
            </VBox>

            <Separator styleClass="nav-separator">
                <VBox.margin>
                    <Insets bottom="12.0" />
                </VBox.margin>
            </Separator>

            <!-- Navigation Section -->
            <VBox spacing="6.0" styleClass="nav-section">
                <Label text="NAVIGATION" styleClass="nav-section-title" style="-fx-text-fill: rgba(255, 255, 255, 0.5);">
                    <padding>
                        <Insets left="16.0" bottom="6.0" />
                    </padding>
                </Label>

                <Button fx:id="btnNavDashboard" onAction="#showDashboard"
                        prefHeight="44.0" maxWidth="Infinity" alignment="CENTER_LEFT">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="12.0">
                            <SVGPath content="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"
                                     styleClass="nav-icon"
                                     />
                            <Label text="Tableau de bord" styleClass="nav-label" style="-fx-text-fill: #ffffff;" />
                        </HBox>
                    </graphic>
                    <styleClass>
                        <String fx:value="nav-button" />
                        <String fx:value="nav-button-active" />
                    </styleClass>
                </Button>

                <Button fx:id="btnNavRecoltes" onAction="#showRecoltes"
                        prefHeight="44.0" maxWidth="Infinity" alignment="CENTER_LEFT">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="12.0">
                            <SVGPath content="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"
                                     styleClass="nav-icon"
                                     />
                            <Label text="Récoltes" styleClass="nav-label" style="-fx-text-fill: rgba(255, 255, 255, 0.7);" />
                        </HBox>
                    </graphic>
                    <styleClass>
                        <String fx:value="nav-button" />
                    </styleClass>
                </Button>
                <VBox.margin>
                    <Insets top="4.0" />
                </VBox.margin>
            </VBox>

            <Region VBox.vgrow="ALWAYS" />

            <!-- Footer Info -->
            <VBox styleClass="nav-footer" spacing="6.0">
                <Separator styleClass="nav-separator">
                    <VBox.margin>
                        <Insets bottom="8.0" />
                    </VBox.margin>
                </Separator>
                <Label text="Version 1.0.0" styleClass="nav-footer-text" style="-fx-text-fill: rgba(255, 255, 255, 0.5);" />
                <Label text="© 2024 AgriGo" styleClass="nav-footer-text" style="-fx-text-fill: rgba(255, 255, 255, 0.5);" />
                <padding>
                    <Insets top="12.0" bottom="16.0" left="16.0" right="16.0" />
                </padding>
            </VBox>
        </VBox>
        <BorderPane prefHeight="760.0" prefWidth="780.0" styleClass="app-main">
            <top>
        <HBox alignment="CENTER_LEFT" styleClass="topbar" spacing="16.0">
            <VBox spacing="4.0">
                <Label text="Dashboard" styleClass="page-title" />
                <Label text="Suivi et gestion des récoltes" styleClass="page-subtitle" />
            </VBox>
            <Pane HBox.hgrow="ALWAYS" />

            <HBox alignment="CENTER_LEFT" styleClass="search-container" spacing="8.0">
                <SVGPath content="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                         styleClass="search-icon"
                         />
                <TextField fx:id="searchField" promptText="Rechercher une récolte..."
                           styleClass="search-field" prefWidth="260.0" />
            </HBox>

            <HBox alignment="CENTER" spacing="10.0" styleClass="topbar-actions">
                <StackPane styleClass="icon-pill">
                    <Button styleClass="icon-button">
                        <graphic>
                            <SVGPath content="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6V11c0-3.07-1.63-5.64-4.5-6.32V4a1.5 1.5 0 0 0-3 0v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"
                                     styleClass="icon-glyph" />
                        </graphic>
                    </Button>
                </StackPane>
                <StackPane styleClass="icon-pill">
                    <Button fx:id="btnThemeToggle" onAction="#toggleTheme" styleClass="icon-button">
                        <graphic>
                            <Label fx:id="themeIconLabel" text="☾" styleClass="theme-toggle-label" />
                        </graphic>
                    </Button>
                </StackPane>
                <StackPane styleClass="avatar-pill">
                    <Label text="AG" styleClass="avatar-text" />
                </StackPane>
            </HBox>
        </HBox>
    </top>

    <center>
        <VBox styleClass="content-area" spacing="20.0">
            <!-- Stats Cards -->
            <HBox spacing="16.0" styleClass="stats-container">
                <VBox prefWidth="220.0" styleClass="stat-card" spacing="12.0">
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <SVGPath content="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"
                                 styleClass="stat-icon stat-icon-primary"
                                 />
                        <Label text="TOTAL RÉCOLTES" styleClass="stat-title" />
                    </HBox>
                    <Label fx:id="statTotalRecoltes" text="0" styleClass="stat-value" />
                    <HBox alignment="CENTER_LEFT" spacing="6.0">
                        <SVGPath content="M7 14l5-5 5 5z" styleClass="stat-trend-icon stat-trend-up" />
                        <Label text="Enregistrements" styleClass="stat-note stat-note-positive" />
                    </HBox>
                    <padding>
                        <Insets top="18.0" bottom="18.0" left="18.0" right="18.0" />
                    </padding>
                </VBox>

                <VBox prefWidth="220.0" styleClass="stat-card" spacing="12.0">
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <SVGPath content="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z"
                                 styleClass="stat-icon stat-icon-success"
                                 />
                        <Label text="QUANTITÉ TOTALE" styleClass="stat-title" />
                    </HBox>
                    <Label fx:id="statQuantiteTotale" text="0" styleClass="stat-value" />
                    <HBox alignment="CENTER_LEFT" spacing="6.0">
                        <SVGPath content="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                                 styleClass="stat-trend-icon stat-trend-stable"
                                 />
                        <Label text="kg / unités" styleClass="stat-note stat-note-neutral" />
                    </HBox>
                    <padding>
                        <Insets top="18.0" bottom="18.0" left="18.0" right="18.0" />
                    </padding>
                </VBox>

                <VBox prefWidth="220.0" styleClass="stat-card" spacing="12.0">
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <SVGPath content="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"
                                 styleClass="stat-icon stat-icon-warning"
                                 />
                        <Label text="COÛT TOTAL" styleClass="stat-title" />
                    </HBox>
                    <Label fx:id="statCoutTotal" text="0" styleClass="stat-value" />
                    <HBox alignment="CENTER_LEFT" spacing="6.0">
                        <Label text="Coûts de production" styleClass="stat-note stat-note-warning" />
                    </HBox>
                    <padding>
                        <Insets top="18.0" bottom="18.0" left="18.0" right="18.0" />
                    </padding>
                </VBox>
            </HBox>

            <!-- Tabs Section -->
            <TabPane fx:id="mainTabs" prefHeight="600.0" styleClass="main-tabs">
                <tabs>
                    <Tab fx:id="tabRecoltes" text="" closable="false">
                        <graphic>
                            <HBox alignment="CENTER" spacing="8.0">
                                <SVGPath content="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"
                                         styleClass="tab-icon"
                                         />
                                <Label text="Récoltes" styleClass="tab-label" />
                            </HBox>
                        </graphic>
                        <content>
                            <VBox spacing="16.0" styleClass="tab-content">
                                <HBox alignment="CENTER_LEFT" spacing="12.0">
                                    <Label text="Gestion des récoltes" styleClass="section-title" />
                                    <Region HBox.hgrow="ALWAYS" />
                                    <Button onAction="#ajouterRecolte"
                                            prefHeight="38.0" styleClass="primary-button">
                                        <graphic>
                                            <HBox alignment="CENTER" spacing="6.0">
                                                <SVGPath content="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
                                                         styleClass="button-icon"
                                                         />
                                                <Label text="Ajouter une récolte" styleClass="button-label" style="-fx-text-fill: #ffffff;" />
                                            </HBox>
                                        </graphic>
                                    </Button>
                                </HBox>

                                <TableView fx:id="tableRecoltes" prefHeight="520.0" styleClass="data-table">
                                    <columns>
                                        <TableColumn fx:id="colId" prefWidth="60.0" text="ID" styleClass="table-col-id" />
                                        <TableColumn fx:id="colNom" prefWidth="200.0" text="PRODUIT" styleClass="table-col-text" />
                                        <TableColumn fx:id="colQuantite" prefWidth="120.0" text="QUANTITÉ" styleClass="table-col-number" />
                                        <TableColumn fx:id="colUnite" prefWidth="100.0" text="UNITÉ" styleClass="table-col-text" />
                                        <TableColumn fx:id="colDate" prefWidth="140.0" text="DATE" styleClass="table-col-text" />
                                        <TableColumn fx:id="colCout" prefWidth="120.0" text="COÛT" styleClass="table-col-number" />
                                        <TableColumn fx:id="colActions" prefWidth="120.0" text="ACTIONS" styleClass="table-col-actions" />
                                    </columns>
                                </TableView>
                                <padding>
                                    <Insets top="12.0" bottom="12.0" left="12.0" right="12.0" />
                                </padding>
                            </VBox>
                        </content>
                    </Tab>
                </tabs>
                <VBox.margin>
                    <Insets top="4.0" />
                </VBox.margin>
            </TabPane>
        </VBox>
    </center>
        </BorderPane>
    </HBox>
</StackPane>
