<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>

<StackPane fx:id="rootPane" prefHeight="820.0" prefWidth="1100.0" styleClass="app-root" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controlles.IrrigationDashBoardController">
    <Pane styleClass="app-background" />
    <HBox alignment="TOP_LEFT" spacing="18.0" styleClass="app-frame">
        <VBox prefWidth="240.0" styleClass="side-nav">
            <!-- Logo Section -->
            <VBox alignment="CENTER" spacing="8.0" styleClass="logo-section">
                <VBox alignment="CENTER" spacing="2.0">
                    <Label fx:id="brandTitle" text="Irrigation" styleClass="brand-title" style="-fx-text-fill: #ffffff;" />
                    <Label text="Management Suite" styleClass="brand-subtitle" style="-fx-text-fill: rgba(255, 255, 255, 0.7);" />
                </VBox>
                <padding>
                    <Insets top="16.0" bottom="16.0" />
                </padding>
            </VBox>

            <Separator styleClass="nav-separator">
                <VBox.margin>
                    <Insets bottom="12.0" />
                </VBox.margin>
            </Separator>

            <!-- Navigation Section -->
            <VBox spacing="6.0" styleClass="nav-section">
                <Label text="NAVIGATION" styleClass="nav-section-title" style="-fx-text-fill: rgba(255, 255, 255, 0.5);">
                    <padding>
                        <Insets left="16.0" bottom="6.0" />
                    </padding>
                </Label>

                <Button fx:id="btnNavHistorique" onAction="#showHistorique"
                        prefHeight="44.0" maxWidth="Infinity" alignment="CENTER_LEFT">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="12.0">
                            <SVGPath content="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
                                     styleClass="nav-icon"
                                     />
                            <Label text="Historique irrigation" styleClass="nav-label" style="-fx-text-fill: #ffffff;" />
                        </HBox>
                    </graphic>
                    <styleClass>
                        <String fx:value="nav-button" />
                        <String fx:value="nav-button-active" />
                    </styleClass>
                </Button>

                <Button fx:id="btnNavSystemes" onAction="#showSystemes"
                        prefHeight="44.0" maxWidth="Infinity" alignment="CENTER_LEFT">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="12.0">
                            <SVGPath content="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"
                                     styleClass="nav-icon"
                                     />
                            <Label text="Systèmes d'irrigation" styleClass="nav-label" style="-fx-text-fill: rgba(255, 255, 255, 0.7);" />
                        </HBox>
                    </graphic>
                    <styleClass>
                        <String fx:value="nav-button" />
                    </styleClass>
                </Button>
                <VBox.margin>
                    <Insets top="4.0" />
                </VBox.margin>
            </VBox>

            <Region VBox.vgrow="ALWAYS" />

            <!-- Footer Info -->
            <VBox styleClass="nav-footer" spacing="6.0">
                <Separator styleClass="nav-separator">
                    <VBox.margin>
                        <Insets bottom="8.0" />
                    </VBox.margin>
                </Separator>
                <Label text="Version 1.0.0" styleClass="nav-footer-text" style="-fx-text-fill: rgba(255, 255, 255, 0.5);" />
                <Label text="© 2024 Irrigation MS" styleClass="nav-footer-text" style="-fx-text-fill: rgba(255, 255, 255, 0.5);" />
                <padding>
                    <Insets top="12.0" bottom="16.0" left="16.0" right="16.0" />
                </padding>
            </VBox>
        </VBox>
        <BorderPane prefHeight="760.0" prefWidth="780.0" styleClass="app-main">
            <top>
        <HBox alignment="CENTER_LEFT" styleClass="topbar" spacing="16.0">
            <VBox spacing="4.0">
                <Label text="Irrigation" styleClass="page-title" />
                <Label text="Suivi et pilotage des opérations d'irrigation" styleClass="page-subtitle" />
            </VBox>
            <Pane HBox.hgrow="ALWAYS" />

            <!-- Search Field with Icon -->
            <HBox alignment="CENTER_LEFT" styleClass="search-container" spacing="8.0">
                <SVGPath content="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                         styleClass="search-icon"
                         />
                <TextField fx:id="searchField" promptText="Rechercher une irrigation..."
                           styleClass="search-field" prefWidth="260.0" />
            </HBox>

            <HBox alignment="CENTER" spacing="10.0" styleClass="topbar-actions">
                <StackPane styleClass="icon-pill">
                    <Button styleClass="icon-button">
                        <graphic>
                            <SVGPath content="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6V11c0-3.07-1.63-5.64-4.5-6.32V4a1.5 1.5 0 0 0-3 0v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"
                                     styleClass="icon-glyph" />
                        </graphic>
                    </Button>
                    <Label text="1" styleClass="icon-badge" StackPane.alignment="TOP_RIGHT" />
                </StackPane>
                <StackPane styleClass="avatar-pill">
                    <Label text="AG" styleClass="avatar-text" />
                </StackPane>
            </HBox>
        </HBox>
    </top>

    <center>
        <VBox styleClass="content-area" spacing="20.0">
            <!-- Stats Cards -->
            <HBox spacing="16.0" styleClass="stats-container">
                <VBox prefWidth="220.0" styleClass="stat-card" spacing="12.0">
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <SVGPath content="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
                                 styleClass="stat-icon stat-icon-primary"
                                 />
                        <Label text="IRRIGATIONS CE MOIS" styleClass="stat-title" />
                    </HBox>
                    <Label fx:id="labelIrrigations" text="0" styleClass="stat-value" />
                    <HBox alignment="CENTER_LEFT" spacing="6.0">
                        <SVGPath content="M7 14l5-5 5 5z" styleClass="stat-trend-icon stat-trend-up"
                                 />
                        <Label fx:id="labelIrrigationsTrend" text="ce mois" styleClass="stat-note stat-note-positive" />
                    </HBox>
                    <padding>
                        <Insets top="18.0" bottom="18.0" left="18.0" right="18.0" />
                    </padding>
                </VBox>

                <VBox prefWidth="220.0" styleClass="stat-card" spacing="12.0">
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <SVGPath content="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"
                                 styleClass="stat-icon stat-icon-success"
                                 />
                        <Label text="VOLUME EAU TOTAL (L)" styleClass="stat-title" />
                    </HBox>
                    <Label fx:id="labelVolume" text="0" styleClass="stat-value" />
                    <HBox alignment="CENTER_LEFT" spacing="6.0">
                        <SVGPath content="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                                 styleClass="stat-trend-icon stat-trend-stable"
                                 />
                        <Label fx:id="labelVolumeStatus" text="Stable sur 30 jours" styleClass="stat-note stat-note-neutral" />
                    </HBox>
                    <padding>
                        <Insets top="18.0" bottom="18.0" left="18.0" right="18.0" />
                    </padding>
                </VBox>

                <VBox prefWidth="220.0" styleClass="stat-card" spacing="12.0">
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <SVGPath content="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"
                                 styleClass="stat-icon stat-icon-warning"
                                 />
                        <Label text="SYSTÈMES ACTIFS" styleClass="stat-title" />
                    </HBox>
                    <Label fx:id="labelSystemes" text="0" styleClass="stat-value" />
                    <HBox alignment="CENTER_LEFT" spacing="6.0">
                        <Label fx:id="labelSystemesDetail" text="système(s) au total" styleClass="stat-note stat-note-warning" />
                    </HBox>
                    <padding>
                        <Insets top="18.0" bottom="18.0" left="18.0" right="18.0" />
                    </padding>
                </VBox>
            </HBox>

            <!-- Tabs Section -->
            <TabPane fx:id="mainTabs" prefHeight="600.0" styleClass="main-tabs">
                <tabs>
                    <Tab fx:id="tabHistorique" text="" closable="false">
                        <graphic>
                            <HBox alignment="CENTER" spacing="8.0">
                                <SVGPath content="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"
                                         styleClass="tab-icon"
                                         />
                                <Label text="Historique irrigation" styleClass="tab-label" />
                            </HBox>
                        </graphic>
                        <content>
                            <VBox spacing="16.0" styleClass="tab-content">
                                <HBox alignment="CENTER_LEFT" spacing="12.0">
                                    <Label text="Gestion de l'historique d'irrigation" styleClass="section-title" />
                                    <Region HBox.hgrow="ALWAYS" />
                                    <Button onAction="#ajouterIrrigation"
                                            prefHeight="38.0" styleClass="primary-button">
                                        <graphic>
                                            <HBox alignment="CENTER" spacing="6.0">
                                                <SVGPath content="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
                                                         styleClass="button-icon"
                                                         />
                                                <Label text="Ajouter une irrigation" styleClass="button-label" style="-fx-text-fill: #ffffff;" />
                                            </HBox>
                                        </graphic>
                                    </Button>
                                </HBox>

                                <TableView fx:id="tableHistorique" prefHeight="520.0" styleClass="data-table">
                                    <columns>
                                        <TableColumn fx:id="colHId" prefWidth="60.0" text="ID" styleClass="table-col-id" />
                                        <TableColumn fx:id="colHDate" prefWidth="160.0" text="DATE" styleClass="table-col-text" />
                                        <TableColumn fx:id="colHSysteme" prefWidth="120.0" text="SYSTÈME" styleClass="table-col-text" />
                                        <TableColumn fx:id="colHDuree" prefWidth="90.0" text="DURÉE (min)" styleClass="table-col-number" />
                                        <TableColumn fx:id="colHVolume" prefWidth="100.0" text="VOLUME (L)" styleClass="table-col-number" />
                                        <TableColumn fx:id="colHHumidite" prefWidth="100.0" text="HUMIDITÉ %" styleClass="table-col-number" />
                                        <TableColumn fx:id="colHType" prefWidth="100.0" text="TYPE" styleClass="table-col-status" />
                                        <TableColumn fx:id="colHActions" prefWidth="120.0" text="ACTIONS" styleClass="table-col-actions" />
                                    </columns>
                                </TableView>
                                <padding>
                                    <Insets top="12.0" bottom="12.0" left="12.0" right="12.0" />
                                </padding>
                            </VBox>
                        </content>
                    </Tab>

                    <Tab fx:id="tabSystemes" text="" closable="false">
                        <graphic>
                            <HBox alignment="CENTER" spacing="8.0">
                                <SVGPath content="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"
                                         styleClass="tab-icon"
                                         />
                                <Label text="Systèmes d'irrigation" styleClass="tab-label" />
                            </HBox>
                        </graphic>
                        <content>
                            <VBox spacing="16.0" styleClass="tab-content">
                                <HBox alignment="CENTER_LEFT" spacing="12.0">
                                    <Label text="Gestion des systèmes d'irrigation" styleClass="section-title" />
                                    <Region HBox.hgrow="ALWAYS" />
                                    <Button onAction="#ajouterSysteme"
                                            prefHeight="38.0" styleClass="primary-button">
                                        <graphic>
                                            <HBox alignment="CENTER" spacing="6.0">
                                                <SVGPath content="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
                                                         styleClass="button-icon"
                                                         />
                                                <Label text="Ajouter un système" styleClass="button-label" style="-fx-text-fill: #ffffff;" />
                                            </HBox>
                                        </graphic>
                                    </Button>
                                </HBox>

                                <TableView fx:id="tableSystemes" prefHeight="520.0" styleClass="data-table">
                                    <columns>
                                        <TableColumn fx:id="colSId" prefWidth="70.0" text="ID" styleClass="table-col-id" />
                                        <TableColumn fx:id="colSNom" prefWidth="220.0" text="NOM" styleClass="table-col-text" />
                                        <TableColumn fx:id="colSSeuil" prefWidth="100.0" text="SEUIL %" styleClass="table-col-number" />
                                        <TableColumn fx:id="colSMode" prefWidth="120.0" text="MODE" styleClass="table-col-status" />
                                        <TableColumn fx:id="colSStatut" prefWidth="120.0" text="STATUT" styleClass="table-col-status" />
                                        <TableColumn fx:id="colSActions" prefWidth="120.0" text="ACTIONS" styleClass="table-col-actions" />
                                    </columns>
                                </TableView>
                                <padding>
                                    <Insets top="12.0" bottom="12.0" left="12.0" right="12.0" />
                                </padding>
                            </VBox>
                        </content>
                    </Tab>
                </tabs>
                <VBox.margin>
                    <Insets top="4.0" />
                </VBox.margin>
            </TabPane>
        </VBox>
    </center>
        </BorderPane>
    </HBox>
</StackPane>
