<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>

<StackPane prefHeight="640.0" prefWidth="500.0" styleClass="app-root form-root" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controlles.Page1Controller">
    <children>
        <VBox maxWidth="460.0" styleClass="form-card" spacing="20.0">
            <children>
                <!-- Header Section -->
                <VBox spacing="8.0" styleClass="form-header">
                    <children>
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <children>
                                <SVGPath content="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"
                                         styleClass="form-header-icon"
                                         style="-fx-fill: #2d7a4f;" />
                                <VBox spacing="2.0">
                                    <children>
                                        <Label fx:id="lblTitle" text="Nouvelle culture" styleClass="form-title" />
                                        <Label text="Ajoutez une culture avec des détails clairs" styleClass="form-subtitle" />
                                    </children>
                                </VBox>
                            </children>
                        </HBox>
                        <Separator styleClass="form-separator">
                            <VBox.margin>
                                <Insets top="6.0" />
                            </VBox.margin>
                        </Separator>
                    </children>
                </VBox>

                <!-- Form Fields Section -->
                <VBox spacing="16.0" styleClass="form-fields">
                    <children>
                        <!-- Nom culture -->
                        <VBox spacing="8.0" styleClass="field-group">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="6.0">
                                    <children>
                                        <SVGPath content="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                                                 styleClass="field-icon"
                                                 style="-fx-fill: #2d7a4f; -fx-scale-x: 0.7; -fx-scale-y: 0.7;" />
                                        <Label text="Nom de la culture" styleClass="form-label" />
                                        <Label text="*" styleClass="required-indicator" style="-fx-text-fill: #dc3545;" />
                                    </children>
                                </HBox>
                                <TextField fx:id="tfNom" prefHeight="40.0" promptText="Ex: Blé, Maïs, Tomate..." styleClass="form-field">
                                    <padding>
                                        <Insets left="12.0" right="12.0" />
                                    </padding>
                                </TextField>
                            </children>
                        </VBox>

                        <!-- État -->
                        <VBox spacing="8.0" styleClass="field-group">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="6.0">
                                    <children>
                                        <SVGPath content="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
                                                 styleClass="field-icon"
                                                 style="-fx-fill: #2d7a4f; -fx-scale-x: 0.7; -fx-scale-y: 0.7;" />
                                        <Label text="État de croissance" styleClass="form-label" />
                                        <Label text="*" styleClass="required-indicator" style="-fx-text-fill: #dc3545;" />
                                    </children>
                                </HBox>
                                <ComboBox fx:id="cbEtat" prefHeight="40.0" maxWidth="Infinity" promptText="Choisir un état..." styleClass="form-field">
                                    <VBox.margin>
                                        <Insets />
                                    </VBox.margin>
                                </ComboBox>
                            </children>
                        </VBox>

                        <!-- Date semis -->
                        <VBox spacing="8.0" styleClass="field-group">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="6.0">
                                    <children>
                                        <SVGPath content="M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"
                                                 styleClass="field-icon"
                                                 style="-fx-fill: #2d7a4f; -fx-scale-x: 0.7; -fx-scale-y: 0.7;" />
                                        <Label text="Date de semis" styleClass="form-label" />
                                        <Label text="*" styleClass="required-indicator" style="-fx-text-fill: #dc3545;" />
                                    </children>
                                </HBox>
                                <DatePicker fx:id="dpDateSemis" prefHeight="40.0" maxWidth="Infinity" promptText="Sélectionner une date" styleClass="form-field" />
                            </children>
                        </VBox>

                        <!-- Rendement -->
                        <VBox spacing="8.0" styleClass="field-group">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="6.0">
                                    <children>
                                        <SVGPath content="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z"
                                                 styleClass="field-icon"
                                                 style="-fx-fill: #2d7a4f; -fx-scale-x: 0.7; -fx-scale-y: 0.7;" />
                                        <Label text="Rendement prévu (kg)" styleClass="form-label" />
                                        <Label text="*" styleClass="required-indicator" style="-fx-text-fill: #dc3545;" />
                                    </children>
                                </HBox>
                                <TextField fx:id="tfRendement" prefHeight="40.0" promptText="Ex: 550, 1200..." styleClass="form-field">
                                    <padding>
                                        <Insets left="12.0" right="12.0" />
                                    </padding>
                                </TextField>
                            </children>
                        </VBox>

                        <!-- Parcelle -->
                        <VBox spacing="8.0" styleClass="field-group">
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="6.0">
                                    <children>
                                        <SVGPath content="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"
                                                 styleClass="field-icon"
                                                 style="-fx-fill: #2d7a4f; -fx-scale-x: 0.7; -fx-scale-y: 0.7;" />
                                        <Label text="Parcelle" styleClass="form-label" />
                                        <Label text="*" styleClass="required-indicator" style="-fx-text-fill: #dc3545;" />
                                    </children>
                                </HBox>
                                <ComboBox fx:id="cbParcelle" prefHeight="40.0" maxWidth="Infinity" promptText="Choisir une parcelle..." styleClass="form-field" />
                            </children>
                        </VBox>
                    </children>
                </VBox>

                <!-- Footer with Info and Button -->
                <VBox spacing="12.0">
                    <children>
                        <Separator styleClass="form-separator" />

                        <HBox alignment="CENTER_LEFT" spacing="8.0" styleClass="form-info">
                            <children>
                                <SVGPath content="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"
                                         styleClass="info-icon"
                                         style="-fx-fill: #6c757d; -fx-scale-x: 0.6; -fx-scale-y: 0.6;" />
                                <Label text="Les champs marqués d'un * sont obligatoires" styleClass="form-help-text"
                                       style="-fx-text-fill: #6c757d; -fx-font-size: 11px;" />
                            </children>
                        </HBox>

                        <HBox alignment="CENTER_RIGHT" spacing="10.0">
                            <children>
                                <Region HBox.hgrow="ALWAYS" />
                                <Button fx:id="btnAjouter" mnemonicParsing="false" onAction="#saveCulture"
                                        prefHeight="42.0" prefWidth="160.0" styleClass="primary-button">
                                    <graphic>
                                        <HBox alignment="CENTER" spacing="8.0">
                                            <children>
                                                <SVGPath content="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                                                         styleClass="button-icon"
                                                         style="-fx-fill: #ffffff; -fx-scale-x: 0.8; -fx-scale-y: 0.8;" />
                                                <Label text="Enregistrer" styleClass="button-label" style="-fx-text-fill: #ffffff;" />
                                            </children>
                                        </HBox>
                                    </graphic>
                                </Button>
                            </children>
                        </HBox>
                    </children>
                </VBox>
            </children>
            <padding>
                <Insets top="24.0" bottom="24.0" left="24.0" right="24.0" />
            </padding>
        </VBox>
    </children>
</StackPane>
