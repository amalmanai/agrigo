<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane
        maxHeight="-Infinity" maxWidth="-Infinity"
        minHeight="-Infinity" minWidth="-Infinity"
        prefHeight="620.0" prefWidth="820.0"
        xmlns="http://javafx.com/javafx/21"
        xmlns:fx="http://javafx.com/fxml/1"
        fx:controller="Controllers.RegisterController">

    <!-- SEULE LA PARTIE DROITE -->
    <center>
        <AnchorPane prefWidth="820.0" prefHeight="620.0"
                    style="-fx-background-color: #f7f9f4;"
                    BorderPane.alignment="CENTER">
            <children>

                <VBox layoutX="64" layoutY="42" spacing="0" prefWidth="690">
                    <children>

                        <Label text="NOUVEAU COMPTE"
                               style="-fx-font-size: 10px;
                                      -fx-font-weight: bold;
                                      -fx-text-fill: #5dbf5d;
                                      -fx-padding: 0 0 8 0;"/>

                        <Label text="S'inscrire"
                               style="-fx-font-size: 27px;
                                      -fx-font-weight: bold;
                                      -fx-text-fill: #1a3318;
                                      -fx-padding: 0 0 4 0;"/>

                        <Label text="Remplissez vos informations pour commencer"
                               style="-fx-font-size: 12px;
                                      -fx-text-fill: #7a9475;
                                      -fx-padding: 0 0 20 0;"/>

                        <!-- Nom + Prénom -->
                        <HBox spacing="12">
                            <children>

                                <VBox spacing="0" prefWidth="170">
                                    <children>
                                        <Label text="NOM"
                                               style="-fx-font-size: 10px; -fx-font-weight: bold;
                                                      -fx-text-fill: #3a5c38; -fx-padding: 0 0 5 0;"/>
                                        <TextField fx:id="tfNom" promptText="Nom"/>
                                    </children>
                                </VBox>

                                <VBox spacing="0" prefWidth="170">
                                    <children>
                                        <Label text="PRÉNOM"
                                               style="-fx-font-size: 10px; -fx-font-weight: bold;
                                                      -fx-text-fill: #3a5c38; -fx-padding: 0 0 5 0;"/>
                                        <TextField fx:id="tfprenom" promptText="Prénom"/>
                                    </children>
                                </VBox>

                            </children>
                        </HBox>

                        <!-- Email -->
                        <Label text="ADRESSE E-MAIL"
                               style="-fx-font-size: 10px; -fx-font-weight: bold;
                                      -fx-text-fill: #3a5c38; -fx-padding: 10 0 5 0;"/>
                        <TextField fx:id="tfemail" promptText="votre@email.com"/>

                        <!-- Mot de passe + confirmation -->
                        <HBox spacing="12" style="-fx-padding: 10 0 0 0;">
                            <children>
                                <VBox spacing="0" prefWidth="170">
                                    <Label text="MOT DE PASSE"/>
                                    <PasswordField fx:id="tfmotDePasse" promptText="••••••••"/>
                                </VBox>
                                <VBox spacing="0" prefWidth="170">
                                    <Label text="CONFIRMER"/>
                                    <PasswordField fx:id="pfConfirmMotDePasse" promptText="••••••••"/>
                                </VBox>
                            </children>
                        </HBox>

                        <!-- Téléphone + Adresse -->
                        <HBox spacing="12" style="-fx-padding: 10 0 0 0;">
                            <children>
                                <VBox spacing="0" prefWidth="170">
                                    <Label text="TÉLÉPHONE"/>
                                    <TextField fx:id="tfTelephone" promptText="+216 XX XXX XXX"/>
                                </VBox>
                                <VBox spacing="0" prefWidth="170">
                                    <children>
                                        <Label text="ADRESSE"/>
                                        <!-- Champ adresse + bouton pour ouvrir la carte -->
                                        <HBox spacing="8">
                                            <children>
                                                <TextField fx:id="tfAddresse" promptText="Votre adresse" HBox.hgrow="ALWAYS" />
                                                <Button text="Choisir sur la carte" onAction="#openMapPicker" />
                                            </children>
                                        </HBox>
                                    </children>
                                </VBox>
                            </children>
                        </HBox>

                        <!-- Rôle -->
                        <Label text="RÔLE" style="-fx-padding: 10 0 5 0;"/>
                        <ComboBox fx:id="tfroleeee" promptText="Sélectionnez votre rôle"/>

                        <!-- Bouton inscription -->
                        <Button text="Créer mon compte" onAction="#registerAction" style="-fx-background-color: #228B22; -fx-text-fill: white;"/>

                        <!-- Lien connexion -->
                        <HBox alignment="CENTER_LEFT" spacing="4" style="-fx-padding: 10 0 0 0;">
                            <children>
                                <Label text="Déjà un compte ?"/>
                                <Hyperlink text="Se connecter" onAction="#handleLabelClick"/>
                            </children>
                        </HBox>

                    </children>
                </VBox>

            </children>
        </AnchorPane>
    </center>

</BorderPane>