<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<AnchorPane
        prefHeight="660.0" prefWidth="980.0"
        style="-fx-background-color: #f0f4f0;"
        xmlns="http://javafx.com/javafx/21"
        xmlns:fx="http://javafx.com/fxml/1"
        fx:controller="Controllers.ListeTacheController">

    <children>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             TOPBAR
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <HBox layoutX="0.0" layoutY="0.0"
              prefWidth="980.0" prefHeight="64.0"
              alignment="CENTER_LEFT"
              style="-fx-background-color: white;
                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 3);">
            <padding><Insets top="0" left="24" right="24" bottom="0"/></padding>

            <Button fx:id="btnRetour"
                    mnemonicParsing="false" onAction="#retourAccueil"
                    prefHeight="36.0" prefWidth="110.0"
                    text="â† Retour"
                    style="-fx-background-color: #f0f4f0;
                           -fx-background-radius: 10;
                           -fx-text-fill: #228B22;
                           -fx-font-size: 13px;
                           -fx-font-weight: 600;
                           -fx-cursor: hand;
                           -fx-border-color: #228B22;
                           -fx-border-radius: 10;
                           -fx-border-width: 1.5;" />

            <VBox alignment="CENTER_LEFT" spacing="2">
                <HBox.margin><Insets left="20"/></HBox.margin>
                <Label text="Gestion des TÃ¢ches"
                       style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #1a1a1a;" />
                <Label text="Planifiez et suivez toutes vos tÃ¢ches agricoles"
                       style="-fx-font-size: 11px; -fx-text-fill: #9ca3af;" />
            </VBox>

            <Region HBox.hgrow="ALWAYS" />

            <!-- MÃ©tÃ©o badge -->
            <StackPane style="-fx-background-color: #eff6ff;
                              -fx-background-radius: 20;
                              -fx-border-color: #bfdbfe;
                              -fx-border-radius: 20;
                              -fx-border-width: 1;">
                <padding><Insets top="6" left="14" right="14" bottom="6"/></padding>
                <Label fx:id="labelMeteo"
                       text="ðŸŒ¤  MÃ©tÃ©o"
                       prefWidth="220"
                       style="-fx-font-size: 12px; -fx-font-weight: 500; -fx-text-fill: #1976D2;" />
            </StackPane>
        </HBox>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             CARTES KPI
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <HBox layoutX="24.0" layoutY="84.0"
              spacing="16" prefWidth="932.0">

            <!-- Total tÃ¢ches -->
            <VBox alignment="TOP_LEFT" spacing="8"
                  prefWidth="214.0" prefHeight="95.0"
                  style="-fx-background-color: white;
                         -fx-background-radius: 16;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 3);">
                <padding><Insets top="16" left="18" right="18" bottom="16"/></padding>
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <StackPane prefWidth="34" prefHeight="34"
                               style="-fx-background-color: #ecfdf5; -fx-background-radius: 10;">
                        <Label text="ðŸ“‹" style="-fx-font-size: 15px;" />
                    </StackPane>
                    <Label text="Total tÃ¢ches"
                           style="-fx-font-size: 12px; -fx-text-fill: #6b7280;" />
                </HBox>
                <Label fx:id="labelTotalTaches" text="â€”"
                       style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #228B22;" />
            </VBox>

            <!-- En cours -->
            <VBox alignment="TOP_LEFT" spacing="8"
                  prefWidth="214.0" prefHeight="95.0"
                  style="-fx-background-color: white;
                         -fx-background-radius: 16;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 3);">
                <padding><Insets top="16" left="18" right="18" bottom="16"/></padding>
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <StackPane prefWidth="34" prefHeight="34"
                               style="-fx-background-color: #fff7ed; -fx-background-radius: 10;">
                        <Label text="â³" style="-fx-font-size: 15px;" />
                    </StackPane>
                    <Label text="En cours"
                           style="-fx-font-size: 12px; -fx-text-fill: #6b7280;" />
                </HBox>
                <Label fx:id="labelEnCours" text="â€”"
                       style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #d97706;" />
            </VBox>

            <!-- TerminÃ©es -->
            <VBox alignment="TOP_LEFT" spacing="8"
                  prefWidth="214.0" prefHeight="95.0"
                  style="-fx-background-color: white;
                         -fx-background-radius: 16;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 3);">
                <padding><Insets top="16" left="18" right="18" bottom="16"/></padding>
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <StackPane prefWidth="34" prefHeight="34"
                               style="-fx-background-color: #f0fdf4; -fx-background-radius: 10;">
                        <Label text="âœ…" style="-fx-font-size: 15px;" />
                    </StackPane>
                    <Label text="TerminÃ©es"
                           style="-fx-font-size: 12px; -fx-text-fill: #6b7280;" />
                </HBox>
                <Label fx:id="labelTerminees" text="â€”"
                       style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #16a34a;" />
            </VBox>

            <!-- Citation du jour -->
            <VBox alignment="TOP_LEFT" spacing="6"
                  prefWidth="238.0" prefHeight="95.0"
                  style="-fx-background-color: white;
                         -fx-background-radius: 16;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 3);">
                <padding><Insets top="16" left="18" right="18" bottom="16"/></padding>
                <Label text="ðŸ’¬  Citation du jour"
                       style="-fx-font-size: 11px; -fx-font-weight: bold; -fx-text-fill: #6b7280;" />
                <Label fx:id="labelCitation"
                       wrapText="true" prefWidth="202"
                       style="-fx-font-size: 11px; -fx-font-style: italic; -fx-text-fill: #374151;" />
            </VBox>

        </HBox>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             BARRE RECHERCHE + FILTRES + ACTIONS
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <HBox layoutX="24.0" layoutY="203.0"
              spacing="12" alignment="CENTER_LEFT"
              prefWidth="932.0">

            <!-- Recherche -->
            <StackPane prefWidth="280.0" prefHeight="42.0">
                <Label text="ðŸ”"
                       style="-fx-font-size: 14px; -fx-text-fill: #9ca3af;"
                       StackPane.alignment="CENTER_LEFT">
                    <padding><Insets left="14"/></padding>
                </Label>
                <TextField fx:id="fieldRechercheTache"
                           promptText="Rechercher par titre..."
                           style="-fx-background-color: white;
                                  -fx-background-radius: 12;
                                  -fx-border-color: #d1d5db;
                                  -fx-border-radius: 12;
                                  -fx-border-width: 1.5;
                                  -fx-padding: 0 14 0 38;
                                  -fx-font-size: 13px;
                                  -fx-pref-height: 42;" />
            </StackPane>

            <!-- Filtre statut -->
            <ComboBox fx:id="comboFiltreStatut"
                      promptText="Tous les statuts"
                      prefWidth="180.0" prefHeight="42.0"
                      style="-fx-background-color: white;
                             -fx-background-radius: 12;
                             -fx-border-color: #d1d5db;
                             -fx-border-radius: 12;
                             -fx-border-width: 1.5;
                             -fx-font-size: 13px;" />

            <!-- RafraÃ®chir -->
            <Button fx:id="btnRafraichirTache"
                    mnemonicParsing="false" onAction="#rafraichir"
                    prefHeight="42.0" prefWidth="120.0"
                    text="â†»  RafraÃ®chir"
                    style="-fx-background-color: white;
                           -fx-background-radius: 12;
                           -fx-text-fill: #228B22;
                           -fx-font-size: 13px;
                           -fx-font-weight: 500;
                           -fx-cursor: hand;
                           -fx-border-color: #228B22;
                           -fx-border-radius: 12;
                           -fx-border-width: 1.5;" />

            <Region HBox.hgrow="ALWAYS" />

            <!-- Export PDF -->
            <Button fx:id="btnExportPdf"
                    mnemonicParsing="false" onAction="#exportPdf"
                    prefHeight="42.0" prefWidth="160.0"
                    text="ðŸ“„  Exporter PDF"
                    style="-fx-background-color: white;
                           -fx-background-radius: 12;
                           -fx-text-fill: #1976D2;
                           -fx-font-size: 13px;
                           -fx-font-weight: 500;
                           -fx-cursor: hand;
                           -fx-border-color: #1976D2;
                           -fx-border-radius: 12;
                           -fx-border-width: 1.5;" />

            <!-- Ajouter tÃ¢che -->
            <Button mnemonicParsing="false" onAction="#Ajouter_Tache"
                    prefHeight="42.0" prefWidth="160.0"
                    text="ï¼‹  Ajouter une tÃ¢che"
                    style="-fx-background-color: #228B22;
                           -fx-background-radius: 12;
                           -fx-text-fill: white;
                           -fx-font-size: 13px;
                           -fx-font-weight: 600;
                           -fx-cursor: hand;
                           -fx-effect: dropshadow(gaussian, rgba(34,139,34,0.32), 10, 0, 0, 3);" />
        </HBox>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             TABLEAU
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <VBox layoutX="24.0" layoutY="261.0"
              prefWidth="932.0" prefHeight="344.0"
              style="-fx-background-color: white;
                     -fx-background-radius: 16;
                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 3);">

            <!-- En-tÃªte tableau -->
            <HBox alignment="CENTER_LEFT" prefHeight="46.0"
                  style="-fx-background-color: #f8faf8;
                         -fx-background-radius: 16 16 0 0;
                         -fx-border-color: transparent transparent #f3f4f6 transparent;
                         -fx-border-width: 0 0 1 0;">
                <padding><Insets top="0" left="22" right="22" bottom="0"/></padding>
                <Label text="ðŸ“‹  Liste des tÃ¢ches"
                       style="-fx-font-size: 13px; -fx-font-weight: bold; -fx-text-fill: #1a1a1a;" />
                <Region HBox.hgrow="ALWAYS" />
                <Label text="Double-cliquez pour modifier une tÃ¢che"
                       style="-fx-font-size: 11px; -fx-text-fill: #9ca3af;" />
            </HBox>

            <!-- TableView -->
            <TableView fx:id="ListTache"
                       prefHeight="258.0" prefWidth="932.0"
                       style="-fx-background-color: transparent;
                              -fx-background-radius: 0 0 16 16;
                              -fx-border-color: transparent;"
                       VBox.vgrow="ALWAYS" />

            <!-- Message vide -->
            <Label fx:id="labelAucuneTache"
                   text="Aucune tÃ¢che trouvÃ©e. Cliquez sur Â« Ajouter une tÃ¢che Â» pour en crÃ©er une."
                   style="-fx-font-size: 13px; -fx-text-fill: #9ca3af;"
                   wrapText="true" prefWidth="600"
                   visible="false" />
        </VBox>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             PIED DE PAGE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <HBox layoutX="0.0" layoutY="616.0"
              prefWidth="980.0" prefHeight="44.0"
              alignment="CENTER_LEFT"
              style="-fx-background-color: white;
                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.04), 6, 0, -2, 0);">
            <padding><Insets top="0" left="24" right="24" bottom="0"/></padding>
            <Label text="AgriGo  â€¢  Gestion des TÃ¢ches"
                   style="-fx-font-size: 11.5px; -fx-text-fill: #9ca3af;" />
            <Region HBox.hgrow="ALWAYS" />
            <Label text="SÃ©lectionnez une tÃ¢che pour la modifier ou l'exporter"
                   style="-fx-font-size: 11px; -fx-text-fill: #16a34a;" />
        </HBox>

    </children>
</AnchorPane>