<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<BorderPane
        maxHeight="-Infinity" maxWidth="-Infinity"
        minHeight="-Infinity" minWidth="-Infinity"
        prefHeight="560.0" prefWidth="500.0"
        style="-fx-background-color: #f7f5f0;"
        xmlns="http://javafx.com/javafx/21"
        xmlns:fx="http://javafx.com/fxml/1"
        fx:controller="Controllers.ResetPasswordController">

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         PANNEAU DROIT â€” FORMULAIRE SEUL
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <center>
        <AnchorPane prefWidth="500.0" prefHeight="560.0"
                    style="-fx-background-color: #ffffff;"
                    BorderPane.alignment="CENTER">
            <children>

                <!-- Logo en coin haut -->
                <ImageView layoutX="48.0" layoutY="20.0" fitWidth="120" fitHeight="120" preserveRatio="true">
                    <image>
                        <Image url="@/assets/logoo.png" />
                    </image>
                </ImageView>

                <!-- Header -->
                <Text layoutX="48.0" layoutY="160.0"
                      text="Nouveau mot de passe ðŸ”‘" fill="#1a1a1a"
                      strokeType="OUTSIDE" strokeWidth="0.0">
                    <font><Font name="Georgia Bold" size="24.0" /></font>
                </Text>
                <Text layoutX="48.0" layoutY="182.0"
                      text="Renseignez les champs ci-dessous pour sÃ©curiser votre compte."
                      fill="#6b7280" wrappingWidth="390.0"
                      strokeType="OUTSIDE" strokeWidth="0.0">
                    <font><Font size="13.0" /></font>
                </Text>

                <!-- MÃ©thode de rÃ©cupÃ©ration -->
                <Label layoutX="48.0" layoutY="214.0"
                       text="CHOISIR UNE MÃ‰THODE" style="-fx-text-fill: #1a1a1a; -fx-font-size: 11px; -fx-font-weight: bold;" />

                <HBox layoutX="48.0" layoutY="232.0" spacing="12.0">
                    <children>
                        <RadioButton fx:id="rbEmail" text="Par email" selected="true" />
                        <RadioButton fx:id="rbSMS" text="Par SMS" />
                    </children>
                </HBox>

                <!-- Email / TÃ©lÃ©phone input group -->
                <Label layoutX="48.0" layoutY="272.0"
                       text="CONTACT" style="-fx-text-fill: #1a1a1a; -fx-font-size: 11px; -fx-font-weight: bold;" />

                <StackPane layoutX="48.0" layoutY="290.0" prefWidth="400.0" prefHeight="44.0">
                    <Label text="âœ‰"
                           style="-fx-font-size: 14px; -fx-text-fill: #9ca3af;"
                           StackPane.alignment="CENTER_LEFT">
                        <padding><Insets left="14"/></padding>
                    </Label>
                    <TextField fx:id="tfEmail" promptText="vous@exemple.com"
                               style="-fx-background-color: #f7f5f0; -fx-background-radius: 12; -fx-border-color: #d1d5db; -fx-border-radius: 12; -fx-border-width: 1.5; -fx-padding: 0 14 0 38; -fx-font-size: 13.5px;" />
                </StackPane>

                <StackPane layoutX="48.0" layoutY="340.0" prefWidth="400.0" prefHeight="44.0">
                    <Label text="ðŸ“±"
                           style="-fx-font-size: 14px; -fx-text-fill: #9ca3af;"
                           StackPane.alignment="CENTER_LEFT">
                        <padding><Insets left="14"/></padding>
                    </Label>
                    <TextField fx:id="tfPhone" promptText="Ex: 12345678"
                               style="-fx-background-color: #f7f5f0; -fx-background-radius: 12; -fx-border-color: #d1d5db; -fx-border-radius: 12; -fx-border-width: 1.5; -fx-padding: 0 14 0 38; -fx-font-size: 13.5px;" disable="true" />
                </StackPane>

                <!-- Bouton envoyer le code -->
                <Button layoutX="48.0" layoutY="400.0" fx:id="btnSendCode"
                        prefWidth="400.0" prefHeight="40.0" text="Envoyer le code de vÃ©rification"
                        onAction="#sendCodeAction"
                        style="-fx-background-color: linear-gradient(to right, #38b000, #228B22); -fx-background-radius: 12; -fx-text-fill: white; -fx-font-weight: bold;" />

                <!-- Champ code de vÃ©rification -->
                <Label layoutX="48.0" layoutY="450.0"
                       text="CODE DE VÃ‰RIFICATION" style="-fx-text-fill: #1a1a1a; -fx-font-size: 11px; -fx-font-weight: bold;" />

                <StackPane layoutX="48.0" layoutY="470.0" prefWidth="260.0" prefHeight="44.0">
                    <TextField fx:id="tfCode" promptText="Entrez le code"
                               style="-fx-background-color: #f7f5f0; -fx-background-radius: 12; -fx-border-color: #d1d5db; -fx-border-radius: 12; -fx-border-width: 1.5; -fx-padding: 0 14 0 14; -fx-font-size: 13.5px;" />
                </StackPane>

                <Button layoutX="320.0" layoutY="470.0" fx:id="btnVerifyCode"
                        prefWidth="128.0" prefHeight="44.0" text="VÃ©rifier"
                        onAction="#verifyCodeAction"
                        style="-fx-background-color: #f3f4f6; -fx-background-radius: 12; -fx-text-fill: #1a1a1a;" />

                <!-- Nouveau mot de passe -->
                <Label layoutX="48.0" layoutY="530.0"
                       text="NOUVEAU MOT DE PASSE" style="-fx-text-fill: #1a1a1a; -fx-font-size: 11px; -fx-font-weight: bold;" />

                <StackPane layoutX="48.0" layoutY="548.0" prefWidth="400.0" prefHeight="44.0">
                    <Label text="ðŸ”’" style="-fx-font-size: 13px; -fx-text-fill: #9ca3af;" StackPane.alignment="CENTER_LEFT">
                        <padding><Insets left="14"/></padding>
                    </Label>
                    <PasswordField fx:id="pfNewPassword" promptText="Minimum 6 caractÃ¨res"
                                   style="-fx-background-color: #f7f5f0; -fx-background-radius: 12; -fx-border-color: #d1d5db; -fx-border-radius: 12; -fx-border-width: 1.5; -fx-padding: 0 14 0 38; -fx-font-size: 13.5px;" />
                </StackPane>

                <!-- Confirmation -->
                <StackPane layoutX="48.0" layoutY="598.0" prefWidth="400.0" prefHeight="44.0">
                    <Label text="ðŸ”‘" style="-fx-font-size: 13px; -fx-text-fill: #9ca3af;" StackPane.alignment="CENTER_LEFT">
                        <padding><Insets left="14"/></padding>
                    </Label>
                    <PasswordField fx:id="pfConfirmPassword" promptText="Ressaisir le mot de passe"
                                   style="-fx-background-color: #f7f5f0; -fx-background-radius: 12; -fx-border-color: #d1d5db; -fx-border-radius: 12; -fx-border-width: 1.5; -fx-padding: 0 14 0 38; -fx-font-size: 13.5px;" />
                </StackPane>

                <!-- Message d'Ã©tat -->
                <Label fx:id="labelMessage" layoutX="48.0" layoutY="648.0" prefWidth="400.0" wrapText="true" style="-fx-font-size: 11.5px; -fx-text-fill: #6b7280;" />

                <!-- Bouton principal -->
                <Button layoutX="48.0" layoutY="688.0" fx:id="btnReset"
                        prefWidth="400.0" prefHeight="48.0" text="RÃ©initialiser le mot de passe"
                        onAction="#resetAction" disable="true"
                        style="-fx-background-color: linear-gradient(to right, #228B22, #1a5c1a); -fx-background-radius: 14; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;" />

                <!-- Lien retour login -->
                <HBox layoutX="110.0" layoutY="748.0" alignment="CENTER" spacing="4">
                    <Label text="Vous vous souvenez de votre mot de passe ?" style="-fx-text-fill: #6b7280; -fx-font-size: 12.5px;" />
                    <Hyperlink text="Se connecter" onAction="#backToLogin" style="-fx-text-fill: #228B22; -fx-font-size: 12.5px; -fx-font-weight: 600; -fx-border-color: transparent;" />
                </HBox>

            </children>
        </AnchorPane>
    </center>

</BorderPane>